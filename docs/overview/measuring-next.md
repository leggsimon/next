---
layout: default
title: Measuring Next
section: 
permalink: /docs/overview/measuring-next/
---

# Measuring Next

## Events

Next uses a simple event based model to collect information about usage and behaviour.

The event model comprises of four other models :-

<img src="{{ site.baseurl }}/img/events.png" width="75%" />

- The _User_ model describes information about who the event was generated by, essentially a real-life person with an FT account.
- The _Page_ model describes where the event happened, typically a webpage.
- The _Time_ model describes when the event happened.
- The _Meta_ model allows additional context to be associated with an event.

TODO - add the json we send.

Every system - both client-side and server - can emit events.

- https://github.com/Financial-Times/next-beacon-component
- https://github.com/Financial-Times/next-beacon- TODO node.js

## Beacon

Events can be sent the the next Beacon API.

The Beacon decorates the events with some additional information - some data
from the Content API, some geographic information - and sends them on to our
data store.

## Analysis

Currently Next uses [Keen.io](http://keen.io) to store and analyse the events.

TODO - link to dashboard (after we secure it)

## Split testing

Next has a homebrewed AB testing framework built in to it's core.

Every request that comes in to Next is decorated by a flag indicating what tests a user belongs to. 

The application then serves each user a version of the site - i.e. the test variant or control.

The data we collect via the beacon includes the test flags, which can then be used in any analysis undertaken.

To read more about this :-

- Segmentation https://github.com/Financial-Times/next-ab
- Features  https://github.com/Financial-Times/next-feature-flags-api
- Data collection - https://github.com/Financial-Times/next-beacon
- TODO - X-Flags - middleware

We keep a [discussion document of AB tests](https://www.npmjs.com/package/keen.io) we want to run.
